(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{113:function(e,t,n){e.exports={enter:"slide_enter__1DVFS",enterActive:"slide_enterActive__g2nU4",exit:"slide_exit__IZyly",exitActive:"slide_exitActive__3k2Ge"}},114:function(e,t,n){e.exports={enter:"alert_enter__2JXXh",enterActive:"alert_enterActive__13XOb",exit:"alert_exit__HiQqi",exitActive:"alert_exitActive__1QkPd"}},116:function(e,t,n){e.exports={deleteBtn:"OutputSection_deleteBtn__uo2fW",ulSection:"OutputSection_ulSection__G6d8O",liItem:"OutputSection_liItem__1bH6c",text:"OutputSection_text__28TzX"}},119:function(e,t,n){e.exports={container:"AddSection_container__CzuAw",addBtn:"AddSection_addBtn__2ki1s"}},120:function(e,t,n){e.exports={errorMassage:"Notification_errorMassage__3cXhO",enter:"Notification_enter__290Ay",enterActive:"Notification_enterActive__zyVym",exit:"Notification_exit__1u4yK",exitActive:"Notification_exitActive__31NxG"}},121:function(e,t,n){e.exports={container:"phoneBookView_container__6HZHC",contactsWrapper:"phoneBookView_contactsWrapper__3BAVK",title:"phoneBookView_title__24H1J",appear:"phoneBookView_appear__20rEF",appearActive:"phoneBookView_appearActive__1PF14"}},125:function(e,t,n){"use strict";n.r(t);var r=n(28),a=n(29),c=n(31),o=n(30),i=n(0),s=n(126),u=n(9),l=n(19),p=n.n(l),d=n(25),h=n(14),f=n(20),m=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h.a.fetchContactsRequest()),e.prev=1,e.next=4,f.a.fetchContacts();case 4:n=e.sent,r=n.data,t(h.a.fetchContactsSuccess(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(h.a.fetchContactsError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t){return function(){var n=Object(d.a)(p.a.mark((function n(r){var a,c,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={name:e,number:t},console.log(a),r(h.a.addContactRequest()),n.prev=3,n.next=6,f.a.addContact(a);case 6:c=n.sent,o=c.data,r(h.a.addContactSuccess(o)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),r(h.a.addContactError(n.t0.message));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(h.a.deleteContactRequest()),t.prev=1,t.next=4,f.a.deleteContact(e);case 4:n(h.a.deleteContactSuccess(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(h.a.deleteContactError(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},_=n(35),x=function(e){return e.contacts.items},v=function(e){return e.contacts.filter},O={getLoading:function(e){return e.contacts.loading},getAllContacts:x,getFilter:v,getError:function(e){return e.contacts.error},getFilteredContacts:Object(_.a)([x,v],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},g=n(2),C=n(119),k=n.n(C),A=n(114),N=n.n(A),y=n(120),S=n.n(y),E=n(18),w=n(1),F=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;(this.props.error||this.props.authError)&&setTimeout((function(){e.props.clearError()}),3e3)}},{key:"render",value:function(){return Object(w.jsx)(s.a,{in:!!this.props.message,timeout:250,classNames:N.a,unmountOnExit:!0,children:Object(w.jsx)("div",{className:S.a.errorMassage,children:this.props.message})})}}]),n}(i.Component),B=Object(u.b)((function(e){return{error:O.getError(e),authError:E.a.getError(e)}}),(function(e){return{clearError:function(){return e(h.a.clearError())}}}))(F),D=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",error:!1,errorMessage:null},e.handleInput=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(g.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.number,c=e.props.contacts;return r?a?c.some((function(e){return e.name===r}))?(e.setState({error:!0,errorMessage:"Contact already exists"}),setTimeout((function(){e.setState({error:!1})}),3e3),void e.resetData()):(e.props.onAddContact(r,a),void e.resetData()):(e.setState({error:!0,errorMessage:"Enter number please"}),void setTimeout((function(){e.setState({error:!1})}),3e3)):(e.setState({error:!0,errorMessage:"Enter name please"}),void setTimeout((function(){e.setState({error:!1})}),3e3))},e}return Object(a.a)(n,[{key:"resetData",value:function(){this.setState({name:"",number:""})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,r=e.errorMessage;return Object(w.jsxs)("div",{className:k.a.container,children:[Object(w.jsx)(B,{message:r}),Object(w.jsx)("p",{children:"Name"}),Object(w.jsx)("input",{type:"text",placeholder:"Enter contact name",name:"name",value:t,onChange:this.handleInput}),Object(w.jsx)("p",{children:"Number"}),Object(w.jsx)("input",{type:"text",placeholder:"Enter phone number",name:"number",value:n,onChange:this.handleInput}),Object(w.jsx)("button",{className:k.a.addBtn,onClick:this.handleSubmit,children:"Add contact"})]})}}]),n}(i.Component),M=Object(u.b)((function(e){return{contacts:O.getAllContacts(e)}}),(function(e){return{onAddContact:function(t,n){return e(b(t,n))}}}))(D),V=n(116),I=n.n(V);var L=Object(u.b)((function(e){return{value:O.getFilter(e)}}),(function(e){return{onChangeFilter:function(t){return e(h.a.changeFilter(t.currentTarget.value))}}}))((function(e){var t=e.value,n=e.onChangeFilter;return Object(w.jsxs)("div",{className:I.a.ulSection,children:[Object(w.jsx)("p",{children:"Find contacts by name"}),Object(w.jsx)("input",{type:"text",placeholder:"Enter contact name",name:"filter",value:t,onChange:n})]})})),T=n(127),H=n(113),X=n.n(H);var q=Object(u.b)((function(e){return{contacts:O.getFilteredContacts(e)}}),(function(e){return{onDeleteContact:function(t){return e(j(t))}}}))((function(e){var t=e.contacts,n=e.onDeleteContact;return e.onUpdateContact,Object(w.jsx)(T.a,{component:"ul",className:I.a.ulSection,children:t.map((function(e){var t=e.id,r=e.name,a=e.number;return Object(w.jsx)(s.a,{timeout:250,classNames:X.a,children:Object(w.jsxs)("li",{className:I.a.liItem,children:[Object(w.jsxs)("p",{className:I.a.text,children:[r," : ",a]}),Object(w.jsx)("button",{className:I.a.deleteBtn,onClick:function(){n(t)},children:"Delete"})]},t)},t)}))})})),J=n(52),W=n(121),z=n.n(W),G=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var e=this.props,t=e.contacts,n=e.error,r=e.clearFilter,a=e.isLoading;return Object(w.jsxs)("div",{className:z.a.container,children:[n&&Object(w.jsx)(B,{message:n.message}),Object(w.jsx)(s.a,{in:!0,appear:!0,timeout:500,classNames:z.a,unmountOnExit:!0,children:Object(w.jsx)("h1",{className:z.a.title,children:"Phonebook"})}),Object(w.jsx)(M,{}),Object(w.jsx)(s.a,{in:t.length>1,classNames:X.a,timeout:250,unmountOnExit:!0,onExiting:function(){return r()},children:Object(w.jsx)(L,{})}),Object(w.jsx)(s.a,{in:t.length>0,appear:!0,timeout:250,classNames:X.a,unmountOnExit:!0,children:Object(w.jsxs)("div",{className:z.a.contactsWrapper,children:[Object(w.jsx)("h2",{className:z.a.title,children:"Contacts"}),a&&Object(w.jsx)(J.a,{}),Object(w.jsx)(q,{})]})})]})}}]),n}(i.Component);t.default=Object(u.b)((function(e){return{contacts:O.getAllContacts(e),isLoading:O.getLoading(e),error:O.getError(e)}}),(function(e){return{fetchContacts:function(){return e(m())},clearFilter:function(){return e(h.a.changeFilter(""))}}}))(G)}}]);
//# sourceMappingURL=phone-book.11d30ef2.chunk.js.map